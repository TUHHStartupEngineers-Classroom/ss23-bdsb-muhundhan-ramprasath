{
  "hash": "35308febae8453764e02ab1122db3068",
  "result": {
    "markdown": "---\ntitle: \"Data Wrangling\"\nauthor: \"Ramprasath Muhundhan\"\n---\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-1_dab83e3f6969409ec97d4ce6f83471cf'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n#> ✔ dplyr     1.1.2     ✔ readr     2.1.4\n#> ✔ forcats   1.0.0     ✔ stringr   1.5.0\n#> ✔ ggplot2   3.4.2     ✔ tibble    3.2.1\n#> ✔ lubridate 1.9.2     ✔ tidyr     1.3.0\n#> ✔ purrr     1.0.1     \n#> ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n#> ✖ dplyr::filter() masks stats::filter()\n#> ✖ dplyr::lag()    masks stats::lag()\n#> ℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n:::\n\n```{.r .cell-code}\nlibrary(vroom)\nlibrary(data.table)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'data.table'\n#> \n#> The following objects are masked from 'package:lubridate':\n#> \n#>     hour, isoweek, mday, minute, month, quarter, second, wday, week,\n#>     yday, year\n#> \n#> The following objects are masked from 'package:dplyr':\n#> \n#>     between, first, last\n#> \n#> The following object is masked from 'package:purrr':\n#> \n#>     transpose\n```\n:::\n:::\n\n#Loading files \n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-2_64fc333582360a7b1251dffc282bf80b'}\n\n```{.r .cell-code}\npatent_url <- \"./../../Patent_data_reduced/patent.tsv\"\npatent_dt <- fread(patent_url)\nclass(patent_dt)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] \"data.table\" \"data.frame\"\n```\n:::\n\n```{.r .cell-code}\npatent_assignee <- \"./../../Patent_data_reduced/patent_assignee.tsv\"\npatent_assignee_dt <- fread(patent_assignee)\nclass(patent_assignee_dt)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] \"data.table\" \"data.frame\"\n```\n:::\n\n```{.r .cell-code}\nassignee_url <- \"./../../Patent_data_reduced/assignee.tsv\"\nassignee_dt <- fread(assignee_url)\nclass(assignee_dt)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#> [1] \"data.table\" \"data.frame\"\n```\n:::\n\n```{.r .cell-code}\nuspc_url <- \"./../../Patent_data_reduced/uspc.tsv\"\nuspc_dt <- fread(uspc_url)\n```\n:::\n\n\n\n#Challenge 1 List 10 us Companies with most patents\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-3_50a17fcc14a11018edf38c3027d03c4c'}\n\n```{.r .cell-code}\ncombined_data <- merge(patent_assignee_dt, assignee_dt, by.x=\"assignee_id\", by.y =\"id\")\ntop10_us_company <- combined_data %>%\n  filter(type == 2) %>%\n  group_by(organization) %>%\n  summarize(patent_count = n()) %>%\n  ungroup() %>%\n  arrange(desc(patent_count))\n```\n:::\n\n\n#Challenge 2 - List top 10 companies with August 2014\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-4_28c255094b163ee2585336fc4df26795'}\n\n```{.r .cell-code}\naug_dt <- patent_dt[month(date) == 8 & year(date) == 2014]\n  \ncombined_data <- merge(merge(aug_dt,patent_assignee_dt, by.x=\"id\",by.y=\"patent_id\"),assignee_dt, by.x=\"assignee_id\",by.y=\"id\")\n\ntop10_us_company <- combined_data %>%\n  filter(type == 2) %>%\n  group_by(organization) %>%\n  summarize(patent_count = n()) %>%\n  ungroup() %>%\n  arrange(desc(patent_count))\n```\n:::\n\n\n#Challenge3 - List top 5 most innovatiove companies\n\n\n::: {.cell hash='03_data_wrangling_cache/html/unnamed-chunk-5_12c65754853abbb96910d5eb1e7d2471'}\n\n```{.r .cell-code}\ncombined_data <- merge(patent_assignee_dt,assignee_dt,by.x=\"assignee_id\",by.y=\"id\")\n\ncompany_patents <- combined_data %>%\nfilter(!(is.na(organization))) %>%\ngroup_by(organization) %>%\nsummarize(patent_count = n()) %>%\nungroup() %>%\narrange(desc(patent_count)) %>% \nhead(10)\n\ntop_10_companies <- head(company_patents, 10)$organization\n\nfiltered_data <- combined_data[organization %in% top_10_companies]\n\nfiltered_uspc <- merge(filtered_data, uspc_dt, by.x = \"patent_id\", by.y = \"patent_id\")\n\ntop_main_classes <- filtered_uspc %>%\n  group_by(mainclass_id) %>%\n  summarize(occurrences = n()) %>%\n  arrange(desc(occurrences)) %>%\n  head(5)\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}