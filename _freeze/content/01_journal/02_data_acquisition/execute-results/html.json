{
  "hash": "72554d86072749d36203fad7ca92e018",
  "result": {
    "markdown": "---\ntitle: \"Data Acquisition\"\nauthor: \"Ramprasath Muhundhan\"\n---\n\n#Challenge 1\n#get top 10 rated movies from imdb\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-1_5f41e8ae1c251d7863339b6e09bc526d'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(httr)\nlibrary(rvest)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n#> \n#> Attaching package: 'rvest'\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\n#> The following object is masked from 'package:readr':\n#> \n#>     guess_encoding\n```\n:::\n:::\n\n\n#import files\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-2_4f35049395e273dc2931b1f3d7d59eba'}\n\n```{.r .cell-code}\nurl  <- \"https://www.imdb.com/chart/top/\"\nresp <- GET( url = \"https://www.imdb.com/chart/top/\",  \n            add_headers('Accept-Language' = \"en-US, en;q=0.5\"))\nimdb_html <- content(resp)\n```\n:::\n\n\n#Get movie titles\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-3_a8b041828f2eba9e61bbcaeb612267fd'}\n\n```{.r .cell-code}\ntitle_tbl <- read_html(url) %>% \nhtml_nodes(css=\".titleColumn > a\") %>%\nhtml_text() %>%\nhead(10)\n```\n:::\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-4_8840c15356f3320d62ed2509ffaf6e64'}\n\n```{.r .cell-code}\nrank_tbl <- read_html(url) %>%\nhtml_nodes(css=\".titleColumn\") %>%\nhtml_text() %>%\nhead(10) %>%\nstringr::str_extract(\"(?<= )[0-9]*(?=\\\\.\\\\n)\")%>% \nas.numeric()\n```\n:::\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-5_a723db5fe5d61b9ddb1011adbf3e4b77'}\n\n```{.r .cell-code}\ntop10_movies <- tibble(rank = rank_tbl,title = title_tbl)\n```\n:::\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-6_76160038b4c3d47609c428a063dc6692'}\n\n```{.r .cell-code}\ntop10_movies\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"rank\"],\"name\":[1],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"title\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"1\",\"2\":\"Die Verurteilten\"},{\"1\":\"2\",\"2\":\"Der Pate\"},{\"1\":\"3\",\"2\":\"The Dark Knight\"},{\"1\":\"4\",\"2\":\"Der Pate 2\"},{\"1\":\"5\",\"2\":\"Die zwölf Geschworenen\"},{\"1\":\"6\",\"2\":\"Schindlers Liste\"},{\"1\":\"7\",\"2\":\"Der Herr der Ringe: Die Rückkehr des Königs\"},{\"1\":\"8\",\"2\":\"Pulp Fiction\"},{\"1\":\"9\",\"2\":\"Der Herr der Ringe: Die Gefährten\"},{\"1\":\"10\",\"2\":\"Zwei glorreiche Halunken\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n#Challenge 2\n\n\n#Load Libraries ---\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-7_b9e2601cb3bf255df3f5651ee23ec328'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(rvest)\nlibrary(glue)\nlibrary(xml2)\n```\n:::\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-8_d1ec9fbf54039d0313370aea76a05c15'}\n\n```{.r .cell-code}\nhome_url <- \"https://www.rosebikes.com\"\nhome_html <- read_html(\"https://www.rosebikes.com/bikes/\")\n```\n:::\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-9_89e95d94b89e6ed14aff216a7d5a6ab7'}\n\n```{.r .cell-code}\nbike_family_tbl <- home_html %>%\n  html_nodes(css = \".catalog-navigation__link\") %>%\n  html_attr(\"href\") %>%\n  str_replace_all(\"^/\", \"https://www.rosebikes.com/\") %>%\n  as_tibble() %>%\n  rename(\"mtburl\" = value)\n```\n:::\n\n\n#moutain bikes table\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-10_92adaf221bc576fd657ee510e63eb259'}\n\n```{.r .cell-code}\nmtb_url <- read_html(bike_family_tbl$mtburl[1]) %>%\n  html_nodes(css = \".catalog-category-bikes__picture-wrapper--left\") %>%\n  html_attr(\"href\") %>%\n  {glue(\"https://www.rosebikes.com{.}\")} %>%\n  as_tibble() %>%\n  rename(URL = value)\n```\n:::\n\n\n\n#Names of count solo mtb tyes\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-11_804a90d944b152e2bbc0897400cf8023'}\n\n```{.r .cell-code}\nname_tbl <- read_html(mtb_url$URL[1]) %>%\n  html_nodes(css = \".basic-headline.basic-headline--no-margin.basic-headline--small.basic-headline--left .basic-headline__title\") %>%\n  html_text() \n```\n:::\n\n\n\n#Price of count solo bike type  \n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-12_6b716d035c7e757743137703e49eea47'}\n\n```{.r .cell-code}\nprice_tbl <- read_html(mtb_url$URL[1]) %>%\nhtml_nodes(css = \".product-tile-price__current.catalog-category-model__price-current .product-tile-price__current-value.catalog-category-model__price-current-value\") %>%\nhtml_text() %>%\ngsub(\"[^0-9.-]\",\"\",.)\n```\n:::\n\n\n#Tibble Format\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-13_3002e75b530364153543d0f5d72aa664'}\n\n```{.r .cell-code}\ncount_solo_tbl <- tibble(name = name_tbl, price = price_tbl)\n```\n:::\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-14_ac87c3b510e4884ac2b0dff4454fbf7f'}\n\n```{.r .cell-code}\ncount_solo_tbl\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"name\"],\"name\":[1],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"price\"],\"name\":[2],\"type\":[\"chr\"],\"align\":[\"left\"]}],\"data\":[{\"1\":\"COUNT SOLO 1\",\"2\":\"749.00\"},{\"1\":\"COUNT SOLO 2\",\"2\":\"849.00\"},{\"1\":\"COUNT SOLO 3\",\"2\":\"949.00\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}